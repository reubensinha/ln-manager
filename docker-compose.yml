services:
  ln-manager:
    image: ghcr.io/reubensinha/ln-manager:latest
    container_name: ln-manager
    restart: unless-stopped

    ports:
      - "9583:9583"

    volumes:
      # Database, user-installed plugins, and plugin data (all in backend/config/)
      - /DATA/AppData/ln-manager/config/backend/config/:/app/backend/config/
      # Frontend plugins
      - /DATA/AppData/ln-manager/config/frontend/plugins/:/app/frontend/src/plugins/
    healthcheck:
      test: ["CMD-SHELL", "curl -f http://localhost:${PORT:-9583}/api/health || exit 1"]
      interval: 30m
      timeout: 3s
      retries: 3
      start_period: 10s